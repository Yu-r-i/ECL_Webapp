{"ast":null,"code":"import { useEffect } from \"react\";\nimport { useDrag } from \"react-dnd\";\nimport { getEmptyImage } from \"react-dnd-html5-backend\";\nimport { useTreeApi } from \"../context\";\nimport { actions as dnd } from \"../state/dnd-slice\";\nexport function useDragHook(node) {\n  const tree = useTreeApi();\n  const ids = tree.selectedIds;\n  const [_, ref, preview] = useDrag(() => ({\n    canDrag: () => node.isDraggable,\n    type: \"NODE\",\n    item: () => {\n      // This is fired once at the begging of a drag operation\n      const dragIds = tree.isSelected(node.id) ? Array.from(ids) : [node.id];\n      tree.dispatch(dnd.dragStart(node.id, dragIds));\n      return {\n        id: node.id,\n        dragIds\n      };\n    },\n    end: () => {\n      tree.hideCursor();\n      tree.dispatch(dnd.dragEnd());\n    }\n  }), [ids, node]);\n  useEffect(() => {\n    preview(getEmptyImage());\n  }, [preview]);\n  return ref;\n}","map":{"version":3,"names":["useEffect","useDrag","getEmptyImage","useTreeApi","actions","dnd","useDragHook","node","tree","ids","selectedIds","_","ref","preview","canDrag","isDraggable","type","item","dragIds","isSelected","id","Array","from","dispatch","dragStart","end","hideCursor","dragEnd"],"sources":["/Users/yuri/GitHub/ECL_Website/root/seminar/client/node_modules/react-arborist/dist/module/dnd/drag-hook.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useDrag } from \"react-dnd\";\nimport { getEmptyImage } from \"react-dnd-html5-backend\";\nimport { useTreeApi } from \"../context\";\nimport { actions as dnd } from \"../state/dnd-slice\";\nexport function useDragHook(node) {\n    const tree = useTreeApi();\n    const ids = tree.selectedIds;\n    const [_, ref, preview] = useDrag(() => ({\n        canDrag: () => node.isDraggable,\n        type: \"NODE\",\n        item: () => {\n            // This is fired once at the begging of a drag operation\n            const dragIds = tree.isSelected(node.id) ? Array.from(ids) : [node.id];\n            tree.dispatch(dnd.dragStart(node.id, dragIds));\n            return { id: node.id, dragIds };\n        },\n        end: () => {\n            tree.hideCursor();\n            tree.dispatch(dnd.dragEnd());\n        },\n    }), [ids, node]);\n    useEffect(() => {\n        preview(getEmptyImage());\n    }, [preview]);\n    return ref;\n}\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,OAAO,QAAQ,WAAW;AACnC,SAASC,aAAa,QAAQ,yBAAyB;AACvD,SAASC,UAAU,QAAQ,YAAY;AACvC,SAASC,OAAO,IAAIC,GAAG,QAAQ,oBAAoB;AACnD,OAAO,SAASC,WAAWA,CAACC,IAAI,EAAE;EAC9B,MAAMC,IAAI,GAAGL,UAAU,CAAC,CAAC;EACzB,MAAMM,GAAG,GAAGD,IAAI,CAACE,WAAW;EAC5B,MAAM,CAACC,CAAC,EAAEC,GAAG,EAAEC,OAAO,CAAC,GAAGZ,OAAO,CAAC,OAAO;IACrCa,OAAO,EAAEA,CAAA,KAAMP,IAAI,CAACQ,WAAW;IAC/BC,IAAI,EAAE,MAAM;IACZC,IAAI,EAAEA,CAAA,KAAM;MACR;MACA,MAAMC,OAAO,GAAGV,IAAI,CAACW,UAAU,CAACZ,IAAI,CAACa,EAAE,CAAC,GAAGC,KAAK,CAACC,IAAI,CAACb,GAAG,CAAC,GAAG,CAACF,IAAI,CAACa,EAAE,CAAC;MACtEZ,IAAI,CAACe,QAAQ,CAAClB,GAAG,CAACmB,SAAS,CAACjB,IAAI,CAACa,EAAE,EAAEF,OAAO,CAAC,CAAC;MAC9C,OAAO;QAAEE,EAAE,EAAEb,IAAI,CAACa,EAAE;QAAEF;MAAQ,CAAC;IACnC,CAAC;IACDO,GAAG,EAAEA,CAAA,KAAM;MACPjB,IAAI,CAACkB,UAAU,CAAC,CAAC;MACjBlB,IAAI,CAACe,QAAQ,CAAClB,GAAG,CAACsB,OAAO,CAAC,CAAC,CAAC;IAChC;EACJ,CAAC,CAAC,EAAE,CAAClB,GAAG,EAAEF,IAAI,CAAC,CAAC;EAChBP,SAAS,CAAC,MAAM;IACZa,OAAO,CAACX,aAAa,CAAC,CAAC,CAAC;EAC5B,CAAC,EAAE,CAACW,OAAO,CAAC,CAAC;EACb,OAAOD,GAAG;AACd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}