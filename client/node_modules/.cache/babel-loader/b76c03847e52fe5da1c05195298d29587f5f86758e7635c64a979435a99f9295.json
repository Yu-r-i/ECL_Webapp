{"ast":null,"code":"import { useMemo, useState } from \"react\";\nimport { SimpleTree } from \"../data/simple-tree\";\nlet nextId = 0;\nexport function useSimpleTree(initialData) {\n  const [data, setData] = useState(initialData);\n  const tree = useMemo(() => new SimpleTree(data), [data]);\n  const onMove = args => {\n    for (const id of args.dragIds) {\n      tree.move({\n        id,\n        parentId: args.parentId,\n        index: args.index\n      });\n    }\n    setData(tree.data);\n  };\n  const onRename = ({\n    name,\n    id\n  }) => {\n    tree.update({\n      id,\n      changes: {\n        name\n      }\n    });\n    setData(tree.data);\n  };\n  const onCreate = ({\n    parentId,\n    index,\n    type\n  }) => {\n    const data = {\n      id: `simple-tree-id-${nextId++}`,\n      name: \"\"\n    };\n    if (type === \"internal\") data.children = [];\n    tree.create({\n      parentId,\n      index,\n      data\n    });\n    setData(tree.data);\n    return data;\n  };\n  const onDelete = args => {\n    args.ids.forEach(id => tree.drop({\n      id\n    }));\n    setData(tree.data);\n  };\n  const controller = {\n    onMove,\n    onRename,\n    onCreate,\n    onDelete\n  };\n  return [data, controller];\n}","map":{"version":3,"names":["useMemo","useState","SimpleTree","nextId","useSimpleTree","initialData","data","setData","tree","onMove","args","id","dragIds","move","parentId","index","onRename","name","update","changes","onCreate","type","children","create","onDelete","ids","forEach","drop","controller"],"sources":["/Users/yuri/GitHub/ECL_Website/root/seminar/client/node_modules/react-arborist/dist/module/hooks/use-simple-tree.js"],"sourcesContent":["import { useMemo, useState } from \"react\";\nimport { SimpleTree } from \"../data/simple-tree\";\nlet nextId = 0;\nexport function useSimpleTree(initialData) {\n    const [data, setData] = useState(initialData);\n    const tree = useMemo(() => new SimpleTree(data), [data]);\n    const onMove = (args) => {\n        for (const id of args.dragIds) {\n            tree.move({ id, parentId: args.parentId, index: args.index });\n        }\n        setData(tree.data);\n    };\n    const onRename = ({ name, id }) => {\n        tree.update({ id, changes: { name } });\n        setData(tree.data);\n    };\n    const onCreate = ({ parentId, index, type }) => {\n        const data = { id: `simple-tree-id-${nextId++}`, name: \"\" };\n        if (type === \"internal\")\n            data.children = [];\n        tree.create({ parentId, index, data });\n        setData(tree.data);\n        return data;\n    };\n    const onDelete = (args) => {\n        args.ids.forEach((id) => tree.drop({ id }));\n        setData(tree.data);\n    };\n    const controller = { onMove, onRename, onCreate, onDelete };\n    return [data, controller];\n}\n"],"mappings":"AAAA,SAASA,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AACzC,SAASC,UAAU,QAAQ,qBAAqB;AAChD,IAAIC,MAAM,GAAG,CAAC;AACd,OAAO,SAASC,aAAaA,CAACC,WAAW,EAAE;EACvC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAACI,WAAW,CAAC;EAC7C,MAAMG,IAAI,GAAGR,OAAO,CAAC,MAAM,IAAIE,UAAU,CAACI,IAAI,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EACxD,MAAMG,MAAM,GAAIC,IAAI,IAAK;IACrB,KAAK,MAAMC,EAAE,IAAID,IAAI,CAACE,OAAO,EAAE;MAC3BJ,IAAI,CAACK,IAAI,CAAC;QAAEF,EAAE;QAAEG,QAAQ,EAAEJ,IAAI,CAACI,QAAQ;QAAEC,KAAK,EAAEL,IAAI,CAACK;MAAM,CAAC,CAAC;IACjE;IACAR,OAAO,CAACC,IAAI,CAACF,IAAI,CAAC;EACtB,CAAC;EACD,MAAMU,QAAQ,GAAGA,CAAC;IAAEC,IAAI;IAAEN;EAAG,CAAC,KAAK;IAC/BH,IAAI,CAACU,MAAM,CAAC;MAAEP,EAAE;MAAEQ,OAAO,EAAE;QAAEF;MAAK;IAAE,CAAC,CAAC;IACtCV,OAAO,CAACC,IAAI,CAACF,IAAI,CAAC;EACtB,CAAC;EACD,MAAMc,QAAQ,GAAGA,CAAC;IAAEN,QAAQ;IAAEC,KAAK;IAAEM;EAAK,CAAC,KAAK;IAC5C,MAAMf,IAAI,GAAG;MAAEK,EAAE,EAAE,kBAAkBR,MAAM,EAAE,EAAE;MAAEc,IAAI,EAAE;IAAG,CAAC;IAC3D,IAAII,IAAI,KAAK,UAAU,EACnBf,IAAI,CAACgB,QAAQ,GAAG,EAAE;IACtBd,IAAI,CAACe,MAAM,CAAC;MAAET,QAAQ;MAAEC,KAAK;MAAET;IAAK,CAAC,CAAC;IACtCC,OAAO,CAACC,IAAI,CAACF,IAAI,CAAC;IAClB,OAAOA,IAAI;EACf,CAAC;EACD,MAAMkB,QAAQ,GAAId,IAAI,IAAK;IACvBA,IAAI,CAACe,GAAG,CAACC,OAAO,CAAEf,EAAE,IAAKH,IAAI,CAACmB,IAAI,CAAC;MAAEhB;IAAG,CAAC,CAAC,CAAC;IAC3CJ,OAAO,CAACC,IAAI,CAACF,IAAI,CAAC;EACtB,CAAC;EACD,MAAMsB,UAAU,GAAG;IAAEnB,MAAM;IAAEO,QAAQ;IAAEI,QAAQ;IAAEI;EAAS,CAAC;EAC3D,OAAO,CAAClB,IAAI,EAAEsB,UAAU,CAAC;AAC7B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}