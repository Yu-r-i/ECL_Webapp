{"ast":null,"code":"import { useMemo, useState } from \"react\";\nimport { SimpleTree } from \"../data/simple-tree\";\nlet nextId = 0;\nexport function useSimpleTree(initialData) {\n  const [data, setData] = useState(initialData);\n  const tree = useMemo(() => new SimpleTree(data), [data]);\n  const onMove = args => {\n    for (const id of args.dragIds) {\n      tree.move({\n        id,\n        parentId: args.parentId,\n        index: args.index\n      });\n    }\n    setData(tree.data);\n  };\n  const onRename = _ref => {\n    let {\n      name,\n      id\n    } = _ref;\n    tree.update({\n      id,\n      changes: {\n        name\n      }\n    });\n    setData(tree.data);\n  };\n  const onCreate = _ref2 => {\n    let {\n      parentId,\n      index,\n      type\n    } = _ref2;\n    const data = {\n      id: \"simple-tree-id-\".concat(nextId++),\n      name: \"\"\n    };\n    if (type === \"internal\") data.children = [];\n    tree.create({\n      parentId,\n      index,\n      data\n    });\n    setData(tree.data);\n    return data;\n  };\n  const onDelete = args => {\n    args.ids.forEach(id => tree.drop({\n      id\n    }));\n    setData(tree.data);\n  };\n  const controller = {\n    onMove,\n    onRename,\n    onCreate,\n    onDelete\n  };\n  return [data, controller];\n}","map":{"version":3,"names":["useMemo","useState","SimpleTree","nextId","useSimpleTree","initialData","data","setData","tree","onMove","args","id","dragIds","move","parentId","index","onRename","_ref","name","update","changes","onCreate","_ref2","type","concat","children","create","onDelete","ids","forEach","drop","controller"],"sources":["/Users/yuri/GitHub/ECL_Website/root/seminar/client/node_modules/react-arborist/dist/module/hooks/use-simple-tree.js"],"sourcesContent":["import { useMemo, useState } from \"react\";\nimport { SimpleTree } from \"../data/simple-tree\";\nlet nextId = 0;\nexport function useSimpleTree(initialData) {\n    const [data, setData] = useState(initialData);\n    const tree = useMemo(() => new SimpleTree(data), [data]);\n    const onMove = (args) => {\n        for (const id of args.dragIds) {\n            tree.move({ id, parentId: args.parentId, index: args.index });\n        }\n        setData(tree.data);\n    };\n    const onRename = ({ name, id }) => {\n        tree.update({ id, changes: { name } });\n        setData(tree.data);\n    };\n    const onCreate = ({ parentId, index, type }) => {\n        const data = { id: `simple-tree-id-${nextId++}`, name: \"\" };\n        if (type === \"internal\")\n            data.children = [];\n        tree.create({ parentId, index, data });\n        setData(tree.data);\n        return data;\n    };\n    const onDelete = (args) => {\n        args.ids.forEach((id) => tree.drop({ id }));\n        setData(tree.data);\n    };\n    const controller = { onMove, onRename, onCreate, onDelete };\n    return [data, controller];\n}\n"],"mappings":"AAAA,SAASA,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AACzC,SAASC,UAAU,QAAQ,qBAAqB;AAChD,IAAIC,MAAM,GAAG,CAAC;AACd,OAAO,SAASC,aAAaA,CAACC,WAAW,EAAE;EACvC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAACI,WAAW,CAAC;EAC7C,MAAMG,IAAI,GAAGR,OAAO,CAAC,MAAM,IAAIE,UAAU,CAACI,IAAI,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EACxD,MAAMG,MAAM,GAAIC,IAAI,IAAK;IACrB,KAAK,MAAMC,EAAE,IAAID,IAAI,CAACE,OAAO,EAAE;MAC3BJ,IAAI,CAACK,IAAI,CAAC;QAAEF,EAAE;QAAEG,QAAQ,EAAEJ,IAAI,CAACI,QAAQ;QAAEC,KAAK,EAAEL,IAAI,CAACK;MAAM,CAAC,CAAC;IACjE;IACAR,OAAO,CAACC,IAAI,CAACF,IAAI,CAAC;EACtB,CAAC;EACD,MAAMU,QAAQ,GAAGC,IAAA,IAAkB;IAAA,IAAjB;MAAEC,IAAI;MAAEP;IAAG,CAAC,GAAAM,IAAA;IAC1BT,IAAI,CAACW,MAAM,CAAC;MAAER,EAAE;MAAES,OAAO,EAAE;QAAEF;MAAK;IAAE,CAAC,CAAC;IACtCX,OAAO,CAACC,IAAI,CAACF,IAAI,CAAC;EACtB,CAAC;EACD,MAAMe,QAAQ,GAAGC,KAAA,IAA+B;IAAA,IAA9B;MAAER,QAAQ;MAAEC,KAAK;MAAEQ;IAAK,CAAC,GAAAD,KAAA;IACvC,MAAMhB,IAAI,GAAG;MAAEK,EAAE,oBAAAa,MAAA,CAAoBrB,MAAM,EAAE,CAAE;MAAEe,IAAI,EAAE;IAAG,CAAC;IAC3D,IAAIK,IAAI,KAAK,UAAU,EACnBjB,IAAI,CAACmB,QAAQ,GAAG,EAAE;IACtBjB,IAAI,CAACkB,MAAM,CAAC;MAAEZ,QAAQ;MAAEC,KAAK;MAAET;IAAK,CAAC,CAAC;IACtCC,OAAO,CAACC,IAAI,CAACF,IAAI,CAAC;IAClB,OAAOA,IAAI;EACf,CAAC;EACD,MAAMqB,QAAQ,GAAIjB,IAAI,IAAK;IACvBA,IAAI,CAACkB,GAAG,CAACC,OAAO,CAAElB,EAAE,IAAKH,IAAI,CAACsB,IAAI,CAAC;MAAEnB;IAAG,CAAC,CAAC,CAAC;IAC3CJ,OAAO,CAACC,IAAI,CAACF,IAAI,CAAC;EACtB,CAAC;EACD,MAAMyB,UAAU,GAAG;IAAEtB,MAAM;IAAEO,QAAQ;IAAEK,QAAQ;IAAEM;EAAS,CAAC;EAC3D,OAAO,CAACrB,IAAI,EAAEyB,UAAU,CAAC;AAC7B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}