{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useCallback, useEffect, useMemo, useRef } from \"react\";\nimport { useDataUpdates, useNodesContext, useTreeApi } from \"../context\";\nimport { useDragHook } from \"../dnd/drag-hook\";\nimport { useDropHook } from \"../dnd/drop-hook\";\nimport { useFreshNode } from \"../hooks/use-fresh-node\";\nexport const RowContainer = React.memo(function RowContainer(_ref) {\n  let {\n    index,\n    style\n  } = _ref;\n  /* When will the <Row> will re-render.\n   *\n   * The row component is memo'd so it will only render\n   * when a new instance of the NodeApi class is passed\n   * to it.\n   *\n   * The TreeApi instance is stable. It does not\n   * change when the internal state changes.\n   *\n   * The TreeApi has all the references to the nodes.\n   * We need to clone the nodes when their state\n   * changes. The node class contains no state itself,\n   * It always checks the tree for state. The tree's\n   * state will always be up to date.\n   */\n  useDataUpdates(); // Re-render when tree props or visability changes\n  const _ = useNodesContext(); // So that we re-render appropriately\n  const tree = useTreeApi(); // Tree already has the fresh state\n  const node = useFreshNode(index);\n  const el = useRef(null);\n  const dragRef = useDragHook(node);\n  const dropRef = useDropHook(el, node);\n  const innerRef = useCallback(n => {\n    el.current = n;\n    dropRef(n);\n  }, [dropRef]);\n  const indent = tree.indent * node.level;\n  const nodeStyle = useMemo(() => ({\n    paddingLeft: indent\n  }), [indent]);\n  const rowStyle = useMemo(() => {\n    var _a, _b;\n    return Object.assign(Object.assign({}, style), {\n      top: parseFloat(style.top) + ((_b = (_a = tree.props.padding) !== null && _a !== void 0 ? _a : tree.props.paddingTop) !== null && _b !== void 0 ? _b : 0)\n    });\n  }, [style, tree.props.padding, tree.props.paddingTop]);\n  const rowAttrs = {\n    role: \"treeitem\",\n    \"aria-level\": node.level + 1,\n    \"aria-selected\": node.isSelected,\n    \"aria-expanded\": node.isOpen,\n    style: rowStyle,\n    tabIndex: -1,\n    className: tree.props.rowClassName\n  };\n  useEffect(() => {\n    var _a;\n    if (!node.isEditing && node.isFocused) {\n      (_a = el.current) === null || _a === void 0 ? void 0 : _a.focus({\n        preventScroll: true\n      });\n    }\n  }, [node.isEditing, node.isFocused, el.current]);\n  const Node = tree.renderNode;\n  const Row = tree.renderRow;\n  return _jsx(Row, {\n    node: node,\n    innerRef: innerRef,\n    attrs: rowAttrs,\n    children: _jsx(Node, {\n      node: node,\n      tree: tree,\n      style: nodeStyle,\n      dragHandle: dragRef\n    })\n  });\n});","map":{"version":3,"names":["jsx","_jsx","React","useCallback","useEffect","useMemo","useRef","useDataUpdates","useNodesContext","useTreeApi","useDragHook","useDropHook","useFreshNode","RowContainer","memo","_ref","index","style","_","tree","node","el","dragRef","dropRef","innerRef","n","current","indent","level","nodeStyle","paddingLeft","rowStyle","_a","_b","Object","assign","top","parseFloat","props","padding","paddingTop","rowAttrs","role","isSelected","isOpen","tabIndex","className","rowClassName","isEditing","isFocused","focus","preventScroll","Node","renderNode","Row","renderRow","attrs","children","dragHandle"],"sources":["/Users/yuri/GitHub/ECL_Website/root/seminar/client/node_modules/react-arborist/dist/module/components/row-container.js"],"sourcesContent":["import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useCallback, useEffect, useMemo, useRef } from \"react\";\nimport { useDataUpdates, useNodesContext, useTreeApi } from \"../context\";\nimport { useDragHook } from \"../dnd/drag-hook\";\nimport { useDropHook } from \"../dnd/drop-hook\";\nimport { useFreshNode } from \"../hooks/use-fresh-node\";\nexport const RowContainer = React.memo(function RowContainer({ index, style, }) {\n    /* When will the <Row> will re-render.\n     *\n     * The row component is memo'd so it will only render\n     * when a new instance of the NodeApi class is passed\n     * to it.\n     *\n     * The TreeApi instance is stable. It does not\n     * change when the internal state changes.\n     *\n     * The TreeApi has all the references to the nodes.\n     * We need to clone the nodes when their state\n     * changes. The node class contains no state itself,\n     * It always checks the tree for state. The tree's\n     * state will always be up to date.\n     */\n    useDataUpdates(); // Re-render when tree props or visability changes\n    const _ = useNodesContext(); // So that we re-render appropriately\n    const tree = useTreeApi(); // Tree already has the fresh state\n    const node = useFreshNode(index);\n    const el = useRef(null);\n    const dragRef = useDragHook(node);\n    const dropRef = useDropHook(el, node);\n    const innerRef = useCallback((n) => {\n        el.current = n;\n        dropRef(n);\n    }, [dropRef]);\n    const indent = tree.indent * node.level;\n    const nodeStyle = useMemo(() => ({ paddingLeft: indent }), [indent]);\n    const rowStyle = useMemo(() => {\n        var _a, _b;\n        return (Object.assign(Object.assign({}, style), { top: parseFloat(style.top) +\n                ((_b = (_a = tree.props.padding) !== null && _a !== void 0 ? _a : tree.props.paddingTop) !== null && _b !== void 0 ? _b : 0) }));\n    }, [style, tree.props.padding, tree.props.paddingTop]);\n    const rowAttrs = {\n        role: \"treeitem\",\n        \"aria-level\": node.level + 1,\n        \"aria-selected\": node.isSelected,\n        \"aria-expanded\": node.isOpen,\n        style: rowStyle,\n        tabIndex: -1,\n        className: tree.props.rowClassName,\n    };\n    useEffect(() => {\n        var _a;\n        if (!node.isEditing && node.isFocused) {\n            (_a = el.current) === null || _a === void 0 ? void 0 : _a.focus({ preventScroll: true });\n        }\n    }, [node.isEditing, node.isFocused, el.current]);\n    const Node = tree.renderNode;\n    const Row = tree.renderRow;\n    return (_jsx(Row, { node: node, innerRef: innerRef, attrs: rowAttrs, children: _jsx(Node, { node: node, tree: tree, style: nodeStyle, dragHandle: dragRef }) }));\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}