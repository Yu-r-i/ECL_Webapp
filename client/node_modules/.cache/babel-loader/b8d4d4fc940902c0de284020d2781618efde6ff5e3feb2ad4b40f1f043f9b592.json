{"ast":null,"code":"export class SimpleTree {\n  constructor(data) {\n    this.root = createRoot(data);\n  }\n  get data() {\n    var _a, _b;\n    return (_b = (_a = this.root.children) === null || _a === void 0 ? void 0 : _a.map(node => node.data)) !== null && _b !== void 0 ? _b : [];\n  }\n  create(args) {\n    const parent = args.parentId ? this.find(args.parentId) : this.root;\n    if (!parent) return null;\n    parent.addChild(args.data, args.index);\n  }\n  move(args) {\n    const src = this.find(args.id);\n    const parent = args.parentId ? this.find(args.parentId) : this.root;\n    if (!src || !parent) return;\n    parent.addChild(src.data, args.index);\n    src.drop();\n  }\n  update(args) {\n    const node = this.find(args.id);\n    if (node) node.update(args.changes);\n  }\n  drop(args) {\n    const node = this.find(args.id);\n    if (node) node.drop();\n  }\n  find(id, node = this.root) {\n    if (!node) return null;\n    if (node.id === id) return node;\n    if (node.children) {\n      for (let child of node.children) {\n        const found = this.find(id, child);\n        if (found) return found;\n      }\n      return null;\n    }\n    return null;\n  }\n}\nfunction createRoot(data) {\n  const root = new SimpleNode({\n    id: \"ROOT\"\n  }, null);\n  root.children = data.map(d => createNode(d, root));\n  return root;\n}\nfunction createNode(data, parent) {\n  const node = new SimpleNode(data, parent);\n  if (data.children) node.children = data.children.map(d => createNode(d, node));\n  return node;\n}\nclass SimpleNode {\n  constructor(data, parent) {\n    this.data = data;\n    this.parent = parent;\n    this.id = data.id;\n  }\n  hasParent() {\n    return !!this.parent;\n  }\n  get childIndex() {\n    return this.hasParent() ? this.parent.children.indexOf(this) : -1;\n  }\n  addChild(data, index) {\n    var _a, _b;\n    const node = createNode(data, this);\n    this.children = (_a = this.children) !== null && _a !== void 0 ? _a : [];\n    this.children.splice(index, 0, node);\n    this.data.children = (_b = this.data.children) !== null && _b !== void 0 ? _b : [];\n    this.data.children.splice(index, 0, data);\n  }\n  removeChild(index) {\n    var _a, _b;\n    (_a = this.children) === null || _a === void 0 ? void 0 : _a.splice(index, 1);\n    (_b = this.data.children) === null || _b === void 0 ? void 0 : _b.splice(index, 1);\n  }\n  update(changes) {\n    if (this.hasParent()) {\n      const i = this.childIndex;\n      this.parent.addChild(Object.assign(Object.assign({}, this.data), changes), i);\n      this.drop();\n    }\n  }\n  drop() {\n    if (this.hasParent()) this.parent.removeChild(this.childIndex);\n  }\n}","map":{"version":3,"names":["SimpleTree","constructor","data","root","createRoot","_a","_b","children","map","node","create","args","parent","parentId","find","addChild","index","move","src","id","drop","update","changes","child","found","SimpleNode","d","createNode","hasParent","childIndex","indexOf","splice","removeChild","i","Object","assign"],"sources":["/Users/yuri/GitHub/ECL_Website/root/seminar/client/node_modules/react-arborist/dist/module/data/simple-tree.js"],"sourcesContent":["export class SimpleTree {\n    constructor(data) {\n        this.root = createRoot(data);\n    }\n    get data() {\n        var _a, _b;\n        return (_b = (_a = this.root.children) === null || _a === void 0 ? void 0 : _a.map((node) => node.data)) !== null && _b !== void 0 ? _b : [];\n    }\n    create(args) {\n        const parent = args.parentId ? this.find(args.parentId) : this.root;\n        if (!parent)\n            return null;\n        parent.addChild(args.data, args.index);\n    }\n    move(args) {\n        const src = this.find(args.id);\n        const parent = args.parentId ? this.find(args.parentId) : this.root;\n        if (!src || !parent)\n            return;\n        parent.addChild(src.data, args.index);\n        src.drop();\n    }\n    update(args) {\n        const node = this.find(args.id);\n        if (node)\n            node.update(args.changes);\n    }\n    drop(args) {\n        const node = this.find(args.id);\n        if (node)\n            node.drop();\n    }\n    find(id, node = this.root) {\n        if (!node)\n            return null;\n        if (node.id === id)\n            return node;\n        if (node.children) {\n            for (let child of node.children) {\n                const found = this.find(id, child);\n                if (found)\n                    return found;\n            }\n            return null;\n        }\n        return null;\n    }\n}\nfunction createRoot(data) {\n    const root = new SimpleNode({ id: \"ROOT\" }, null);\n    root.children = data.map((d) => createNode(d, root));\n    return root;\n}\nfunction createNode(data, parent) {\n    const node = new SimpleNode(data, parent);\n    if (data.children)\n        node.children = data.children.map((d) => createNode(d, node));\n    return node;\n}\nclass SimpleNode {\n    constructor(data, parent) {\n        this.data = data;\n        this.parent = parent;\n        this.id = data.id;\n    }\n    hasParent() {\n        return !!this.parent;\n    }\n    get childIndex() {\n        return this.hasParent() ? this.parent.children.indexOf(this) : -1;\n    }\n    addChild(data, index) {\n        var _a, _b;\n        const node = createNode(data, this);\n        this.children = (_a = this.children) !== null && _a !== void 0 ? _a : [];\n        this.children.splice(index, 0, node);\n        this.data.children = (_b = this.data.children) !== null && _b !== void 0 ? _b : [];\n        this.data.children.splice(index, 0, data);\n    }\n    removeChild(index) {\n        var _a, _b;\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.splice(index, 1);\n        (_b = this.data.children) === null || _b === void 0 ? void 0 : _b.splice(index, 1);\n    }\n    update(changes) {\n        if (this.hasParent()) {\n            const i = this.childIndex;\n            this.parent.addChild(Object.assign(Object.assign({}, this.data), changes), i);\n            this.drop();\n        }\n    }\n    drop() {\n        if (this.hasParent())\n            this.parent.removeChild(this.childIndex);\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}