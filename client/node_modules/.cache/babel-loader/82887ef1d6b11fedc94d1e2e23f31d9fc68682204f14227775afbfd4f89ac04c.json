{"ast":null,"code":"import { useDrop } from \"react-dnd\";\nimport { useTreeApi } from \"../context\";\nimport { computeDrop } from \"./compute-drop\";\nimport { actions as dnd } from \"../state/dnd-slice\";\nexport function useOuterDrop() {\n  const tree = useTreeApi();\n  // In case we drop an item at the bottom of the list\n  const [, drop] = useDrop(() => ({\n    accept: \"NODE\",\n    canDrop: (_item, m) => {\n      if (!m.isOver({\n        shallow: true\n      })) return false;\n      return tree.canDrop();\n    },\n    hover: (_item, m) => {\n      if (!m.isOver({\n        shallow: true\n      })) return;\n      const offset = m.getClientOffset();\n      if (!tree.listEl.current || !offset) return;\n      const {\n        cursor,\n        drop\n      } = computeDrop({\n        element: tree.listEl.current,\n        offset: offset,\n        indent: tree.indent,\n        node: null,\n        prevNode: tree.visibleNodes[tree.visibleNodes.length - 1],\n        nextNode: null\n      });\n      if (drop) tree.dispatch(dnd.hovering(drop.parentId, drop.index));\n      if (m.canDrop()) {\n        if (cursor) tree.showCursor(cursor);\n      } else {\n        tree.hideCursor();\n      }\n    }\n  }), [tree]);\n  drop(tree.listEl);\n}","map":{"version":3,"names":["useDrop","useTreeApi","computeDrop","actions","dnd","useOuterDrop","tree","drop","accept","canDrop","_item","m","isOver","shallow","hover","offset","getClientOffset","listEl","current","cursor","element","indent","node","prevNode","visibleNodes","length","nextNode","dispatch","hovering","parentId","index","showCursor","hideCursor"],"sources":["/Users/yuri/GitHub/ECL_Website/root/seminar/client/node_modules/react-arborist/dist/module/dnd/outer-drop-hook.js"],"sourcesContent":["import { useDrop } from \"react-dnd\";\nimport { useTreeApi } from \"../context\";\nimport { computeDrop } from \"./compute-drop\";\nimport { actions as dnd } from \"../state/dnd-slice\";\nexport function useOuterDrop() {\n    const tree = useTreeApi();\n    // In case we drop an item at the bottom of the list\n    const [, drop] = useDrop(() => ({\n        accept: \"NODE\",\n        canDrop: (_item, m) => {\n            if (!m.isOver({ shallow: true }))\n                return false;\n            return tree.canDrop();\n        },\n        hover: (_item, m) => {\n            if (!m.isOver({ shallow: true }))\n                return;\n            const offset = m.getClientOffset();\n            if (!tree.listEl.current || !offset)\n                return;\n            const { cursor, drop } = computeDrop({\n                element: tree.listEl.current,\n                offset: offset,\n                indent: tree.indent,\n                node: null,\n                prevNode: tree.visibleNodes[tree.visibleNodes.length - 1],\n                nextNode: null,\n            });\n            if (drop)\n                tree.dispatch(dnd.hovering(drop.parentId, drop.index));\n            if (m.canDrop()) {\n                if (cursor)\n                    tree.showCursor(cursor);\n            }\n            else {\n                tree.hideCursor();\n            }\n        },\n    }), [tree]);\n    drop(tree.listEl);\n}\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,WAAW;AACnC,SAASC,UAAU,QAAQ,YAAY;AACvC,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,OAAO,IAAIC,GAAG,QAAQ,oBAAoB;AACnD,OAAO,SAASC,YAAYA,CAAA,EAAG;EAC3B,MAAMC,IAAI,GAAGL,UAAU,CAAC,CAAC;EACzB;EACA,MAAM,GAAGM,IAAI,CAAC,GAAGP,OAAO,CAAC,OAAO;IAC5BQ,MAAM,EAAE,MAAM;IACdC,OAAO,EAAEA,CAACC,KAAK,EAAEC,CAAC,KAAK;MACnB,IAAI,CAACA,CAAC,CAACC,MAAM,CAAC;QAAEC,OAAO,EAAE;MAAK,CAAC,CAAC,EAC5B,OAAO,KAAK;MAChB,OAAOP,IAAI,CAACG,OAAO,CAAC,CAAC;IACzB,CAAC;IACDK,KAAK,EAAEA,CAACJ,KAAK,EAAEC,CAAC,KAAK;MACjB,IAAI,CAACA,CAAC,CAACC,MAAM,CAAC;QAAEC,OAAO,EAAE;MAAK,CAAC,CAAC,EAC5B;MACJ,MAAME,MAAM,GAAGJ,CAAC,CAACK,eAAe,CAAC,CAAC;MAClC,IAAI,CAACV,IAAI,CAACW,MAAM,CAACC,OAAO,IAAI,CAACH,MAAM,EAC/B;MACJ,MAAM;QAAEI,MAAM;QAAEZ;MAAK,CAAC,GAAGL,WAAW,CAAC;QACjCkB,OAAO,EAAEd,IAAI,CAACW,MAAM,CAACC,OAAO;QAC5BH,MAAM,EAAEA,MAAM;QACdM,MAAM,EAAEf,IAAI,CAACe,MAAM;QACnBC,IAAI,EAAE,IAAI;QACVC,QAAQ,EAAEjB,IAAI,CAACkB,YAAY,CAAClB,IAAI,CAACkB,YAAY,CAACC,MAAM,GAAG,CAAC,CAAC;QACzDC,QAAQ,EAAE;MACd,CAAC,CAAC;MACF,IAAInB,IAAI,EACJD,IAAI,CAACqB,QAAQ,CAACvB,GAAG,CAACwB,QAAQ,CAACrB,IAAI,CAACsB,QAAQ,EAAEtB,IAAI,CAACuB,KAAK,CAAC,CAAC;MAC1D,IAAInB,CAAC,CAACF,OAAO,CAAC,CAAC,EAAE;QACb,IAAIU,MAAM,EACNb,IAAI,CAACyB,UAAU,CAACZ,MAAM,CAAC;MAC/B,CAAC,MACI;QACDb,IAAI,CAAC0B,UAAU,CAAC,CAAC;MACrB;IACJ;EACJ,CAAC,CAAC,EAAE,CAAC1B,IAAI,CAAC,CAAC;EACXC,IAAI,CAACD,IAAI,CAACW,MAAM,CAAC;AACrB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}